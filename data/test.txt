mission Test
	source Sunracer
	on offer
		conversation
			`How often should Korath appear in Cardax?`
			choice
				`	(No change.)`
					goto palavret
					to display
						has "made fleets"
				`	Never`
				`	Rarely`
					goto korathrarely
				`	Non-Stop`
					goto korathnonstop
			action
				"cardax korath raid" = 0
			`	Period is 0 (disabled).`
				goto palavret
			label korathrarely
			action
				"cardax korath raid" = 10000
			`	Period is 10000 frames.`
				goto palavret
			label korathnonstop
			action
				"cardax korath raid" = 200
			`	Period is 200 frames.`
				goto palavret


			label palavret
			`	What should the Palavret variant weight be?`
			choice
				`	(No change.)`
					goto ranoerek
					to display
						has "made fleets"
				`	100`
					goto palavret100
				`	5`
					goto palavret5
				`	1`
					goto palavret1
				`	0 (never)`
			action
				"Palavret weight" = 0
			`	Palavret weight = 0`
				goto ranoerek
			label palavret1
			action
				"Palavret weight" = 1
			`	Palavret weight = 1`
				goto ranoerek
			label palavret5
			action
				"Palavret weight" = 5
			`	Palavret weight = 5`
				goto ranoerek
			label palavret100
			action
				"Palavret weight" = 100
			`	Palavret weight = 100`


			label ranoerek
			`	What should the Ranoerek variant weight be?`
			choice
				`	(No change.)`
					goto end
					to display
						has "made fleets"
				`	100`
					goto ranoerek100
				`	5`
					goto ranoerek5
				`	1`
					goto ranoerek1
				`	0 (never)`
			action
				"Rano'erek weight" = 0
			`	Rano'erek weight = 0`
				goto end
			label ranoerek1
			action
				"Rano'erek weight" = 1
			`	Rano'erek weight = 1`
				goto end
			label ranoerek5
			action
				"Rano'erek weight" = 5
			`	Rano'erek weight = 5`
				goto end
			label ranoerek100
			action
				"Rano'erek weight" = 100
			`	Rano'erek weight = 100`
				goto end
			label end
			action
				"made fleets" = 1
			`	Done.`
				defer



fleet "Cardax Korath Raid"
	government "Korath"
	names "korath"
	fighters "korath"
	cargo 1
	personality
		disables plunders opportunistic harvests
	variant "Palavret weight"
		"Palavret (Blaze)"
		"'olofez" 2
	variant "Rano'erek weight"
		"Rano'erek (Shunt)"
		"'olofez" 4



mission Test2
	landing
	source Stormhold
	on offer
		conversation
			`How much should Sparrows be weighted?`
			choice
				`	(No change.)`
					goto osprey
					to display
						has "have weights"
				`	100`
					goto sparrow100
				`	5`
					goto sparrow5
				`	1`
					goto sparrow1
				`	0 (never)`
			action
				"sparrow weight" = 0
			`	sparrow weight = 0`
				goto osprey
			label sparrow1
			action
				"sparrow weight" = 1
			`	sparrow weight = 1`
				goto osprey
			label sparrow5
			action
				"sparrow weight" = 5
			`	sparrow weight = 5`
				goto osprey
			label sparrow100
			action
				"sparrow weight" = 100
			`	sparrow weight = 100`
			label osprey
			`How much should Ospreys be weighted?`
			choice
				`	(No change.)`
					goto cargo
					to display
						has "have weights"
				`	100`
					goto osprey100
				`	5`
					goto osprey5
				`	1`
					goto osprey1
				`	0 (never)`
			action
				"osprey weight" = 0
			`	osprey weight = 0`
				goto cargo
			label osprey1
			action
				"osprey weight" = 1
			`	osprey weight = 1`
				goto cargo
			label osprey5
			action
				"osprey weight" = 5
			`	osprey weight = 5`
				goto cargo
			label osprey100
			action
				"osprey weight" = 100
			`	osprey weight = 100`
				goto cargo
			label cargo
			`How much cargo in each ship?`
			choice
				`	(No change.)`
					goto count
					to display
						has "have weights"
				`	1`
					goto cargo1
				`	3`
					goto cargo3
				`	10`
					goto cargo10
				`	0 (none)`
			action
				"fleet cargo" = 0
			`	fleet cargo = 0`
				goto count
			label cargo1
			action
				"fleet cargo" = 1
			`	fleet cargo = 1`
				goto count
			label cargo3
			action
				"fleet cargo" = 3
			`	fleet cargo = 3`
				goto count
			label cargo10
			action
				"fleet cargo" = 10
			`	fleet cargo = 10`
				goto count
			`How many escorts?`
			choice
				`	(No change.)`
					goto end
					to display
						has "have weights"
				`	1`
					goto count1
				`	3`
					goto count3
				`	10`
					goto count10
				`	0 (none)`
			action
				"fleet count" = 0
			`	fleet count = 0`
				goto end
			label count1
			action
				"fleet count" = 1
			`	fleet count = 1`
				goto end
			label count3
			action
				"fleet count" = 3
			`	fleet count = 3`
				goto end
			label count10
			action
				"fleet count" = 10
			`	fleet count = 10`
				goto end
			label end
			action
				"have weights" = 1
			`	Any changes will take effect after you depart and land since the spaceport mission Test3 is already instantiated, or not, based on conditions upon landing.`
			`	To get your escorts, visit the spaceport.`
				defer



mission Test3
	source Stormhold
	destination Stormhold
	name "Escort variant count test."
	description "Return all escorts to Stormhold alive."
	repeat
	to offer
		has "have weights"
	on offer
		conversation
			`Spawning some escorts.`
				accept
	npc save
		personality waiting escort
		fleet "fleet count"
			cargo "fleet cargo"
			variant "sparrow weight"
				Sparrow
			variant "osprey weight"
				Osprey

